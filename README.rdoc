= sps_bill_scanner

Extracts bill details from SP Services PDF bills.

If you are an SP Services subscriber, download your bills from https://services.spservices.sg

If you are not an SP Services subscriber, this gem ain't going to be much use for you!

== Limitations

Currently it does not handle multi-property bills, and may not handle extensive multi-page bills for a single property correctly. If you *do* come across bills that this gem can't read correctly, you help to get it fixed is greatly needed:
either submit a fix yourself if you can, or report the problem at https://github.com/tardate/sps_bill_scanner/issues

== Programmatic Usage

  # examining a specific bill:
  > require 'sps_bill'
  > pdf_bill_file = "./my_latest_bill.pdf"
  > bill = SpsBill::Bill.new(pdf_bill_file)
  > bill.account_number
  8123123123
  > bill.total_amount
  251.44
  > bill.invoice_date
  2011-05-31
  > bill.invoice_month
  2011-05-01
  > bill.electricity_usage
  [{:kwh=>4.0, :rate=>0.241, :amount=>0.97},{:kwh=>616.0, :rate=>0.2558, :amount=>157.57}]
  > bill.gas_usage
  [{:kwh=>18.0, :rate=>0.1799, :amount=>3.24}]
  > bill.water_usage
  [{:cubic_m=>36.1, :rate=>1.17, :amount=>42.24},{:cubic_m=>-3.0, :rate=>1.4, :amount=>-4.2}]
  > bill.to_s
  Account number: 8123123123
  Invoice date  : 2011-10-31
  Service month : 2011-10-01
  Total bill    : $168.86

  Electricity Usage
  -----------------
  [{:kwh=>14.0, :rate=>0.2728, :amount=>3.82}, {:kwh=>444.0, :rate=>0.2698, :amount=>119.79}]

  Gas Usage
  ---------
  [{:kwh=>12.0, :rate=>0.1961, :amount=>2.35}]

  Water Usage
  -----------
  [{:cubic_m=>8.4, :rate=>9.83, :amount=>0.0}, {:cubic_m=>1.17, :rate=>0.0, :amount=>0.0}]


== Contributing to sps_bill_scanner

* Check out the latest master to make sure the feature hasn't been implemented or the bug hasn't been fixed yet
* Check out the issue tracker to make sure someone already hasn't requested it and/or contributed it
* Fork the project
* Start a feature/bugfix branch
* Commit and push until you are happy with your contribution
* Make sure to add tests for it. This is important so I don't break it in a future version unintentionally.
* Please try not to mess with the Rakefile, version, or history. If you want to have your own version, or is otherwise necessary, that is fine, but please isolate to its own commit so I can cherry-pick around it.

== Copyright

Copyright (c) 2012 Paul Gallagher. See LICENSE.txt for
further details.

